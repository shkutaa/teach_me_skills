jQuery(function($){function Filter(el){this.$filterBtn=$(el);this.$filterPopup=this.$filterBtn.siblings('.b-comments__col_left');this.isOpen=false;this.classes={filterBtn:'b-comments__filter-btn',filterBtnActive:'b-comments__filter-btn_active',filterPopup:'b-comments__col_left',filterPopupActive:'b-comments__col_left_visible'};this.init();}
Filter.prototype.init=function(){this.addListeners();};Filter.prototype.addListeners=function(){this.$filterBtn.on('click',this.open.bind(this));};Filter.prototype.open=function(e){var self=this;if(e)e.preventDefault();if(this.isOpen){this.close();return;}
this.isOpen=true;this.$filterBtn.addClass(this.classes.filterBtnActive);this.$filterPopup.addClass(this.classes.filterPopupActive);setTimeout(function(){self.addCloseListeners();},0);};Filter.prototype.close=function(){this.isOpen=false;this.$filterBtn.removeClass(this.classes.filterBtnActive);this.$filterPopup.removeClass(this.classes.filterPopupActive);this.removeCloseListeners();};Filter.prototype.addCloseListeners=function(){var self=this;jQuery(document).on('click.filterClick',function(event){if(!$(event.target).parents('.'+self.classes.filterBtn).length&&!$(event.target).parents('.'+self.classes.filterPopup).length){event.preventDefault();self.close();}});};Filter.prototype.removeCloseListeners=function(){jQuery(document).off('click.filterClick');};new Filter('.b-comments__filter-btn');});;